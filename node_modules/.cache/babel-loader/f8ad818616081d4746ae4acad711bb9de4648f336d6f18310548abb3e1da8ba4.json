{"ast":null,"code":"// CollegeTable.js\nimport React,{useState,useEffect}from'react';import CollegeRow from'./CollegeRow';import SearchBar from'./SearchBar';import InfiniteScroll from'./InfiniteScroll';import collegesData from'../data/collegesData.json';import'../styles/CollegeTable.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CollegeTable=()=>{const[colleges,setColleges]=useState([]);const[isLoading,setIsLoading]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[sortBy,setSortBy]=useState(null);const[sortOrder,setSortOrder]=useState(null);useEffect(()=>{loadInitialColleges();},[]);const loadInitialColleges=()=>{setIsLoading(true);setTimeout(()=>{setColleges(collegesData.slice(0,10));setIsLoading(false);},1000);};const loadMoreColleges=()=>{setIsLoading(true);setTimeout(()=>{setColleges(prevColleges=>[...prevColleges,...collegesData.slice(prevColleges.length,prevColleges.length+10)]);setIsLoading(false);},1000);};const handleSort=column=>{if(sortBy===column){setSortOrder(sortOrder==='asc'?'desc':'asc');}else{setSortBy(column);setSortOrder('asc');}};const sortedColleges=colleges.slice().sort((a,b)=>{if(!sortBy)return 0;if(sortOrder==='asc'){return a[sortBy]>b[sortBy]?1:-1;}else{return a[sortBy]<b[sortBy]?1:-1;}});const filteredColleges=sortedColleges.filter(college=>college.name.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBar,{setSearchTerm:setSearchTerm}),/*#__PURE__*/_jsxs(\"table\",{className:\"college-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{onClick:()=>handleSort('name'),children:\"College Name\"}),/*#__PURE__*/_jsx(\"th\",{onClick:()=>handleSort('cdRank'),children:\"CD Rank\"}),/*#__PURE__*/_jsx(\"th\",{onClick:()=>handleSort('courseFees'),children:\"Course Fees\"}),/*#__PURE__*/_jsx(\"th\",{onClick:()=>handleSort('featured'),children:\"Featured\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredColleges.map(college=>/*#__PURE__*/_jsx(CollegeRow,{college:college},college.id))})]}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),!isLoading&&/*#__PURE__*/_jsx(InfiniteScroll,{loadMoreData:loadMoreColleges})]});};export default CollegeTable;","map":{"version":3,"names":["React","useState","useEffect","CollegeRow","SearchBar","InfiniteScroll","collegesData","jsx","_jsx","jsxs","_jsxs","CollegeTable","colleges","setColleges","isLoading","setIsLoading","searchTerm","setSearchTerm","sortBy","setSortBy","sortOrder","setSortOrder","loadInitialColleges","setTimeout","slice","loadMoreColleges","prevColleges","length","handleSort","column","sortedColleges","sort","a","b","filteredColleges","filter","college","name","toLowerCase","includes","children","className","onClick","map","id","loadMoreData"],"sources":["C:/V sem notes/Projects/CN/q6cn/src/components/CollegeTable.js"],"sourcesContent":["// CollegeTable.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport CollegeRow from './CollegeRow';\r\nimport SearchBar from './SearchBar';\r\nimport InfiniteScroll from './InfiniteScroll';\r\nimport collegesData from '../data/collegesData.json';\r\nimport '../styles/CollegeTable.css';\r\n\r\nconst CollegeTable = () => {\r\n  const [colleges, setColleges] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortBy, setSortBy] = useState(null);\r\n  const [sortOrder, setSortOrder] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadInitialColleges();\r\n  }, []);\r\n\r\n  const loadInitialColleges = () => {\r\n    setIsLoading(true);\r\n    setTimeout(() => {\r\n      setColleges(collegesData.slice(0, 10));\r\n      setIsLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const loadMoreColleges = () => {\r\n    setIsLoading(true);\r\n    setTimeout(() => {\r\n      setColleges(prevColleges => [\r\n        ...prevColleges,\r\n        ...collegesData.slice(prevColleges.length, prevColleges.length + 10)\r\n      ]);\r\n      setIsLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleSort = (column) => {\r\n    if (sortBy === column) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortBy(column);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n  const sortedColleges = colleges.slice().sort((a, b) => {\r\n    if (!sortBy) return 0;\r\n    if (sortOrder === 'asc') {\r\n      return a[sortBy] > b[sortBy] ? 1 : -1;\r\n    } else {\r\n      return a[sortBy] < b[sortBy] ? 1 : -1;\r\n    }\r\n  });\r\n\r\n  const filteredColleges = sortedColleges.filter(college =>\r\n    college.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <SearchBar setSearchTerm={setSearchTerm} />\r\n      <table className=\"college-table\">\r\n        <thead>\r\n          <tr>\r\n            <th onClick={() => handleSort('name')}>College Name</th>\r\n            <th onClick={() => handleSort('cdRank')}>CD Rank</th>\r\n            <th onClick={() => handleSort('courseFees')}>Course Fees</th>\r\n            <th onClick={() => handleSort('featured')}>Featured</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredColleges.map(college => (\r\n            <CollegeRow key={college.id} college={college} />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      {isLoading && <p>Loading...</p>}\r\n      {!isLoading && <InfiniteScroll loadMoreData={loadMoreColleges} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollegeTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}